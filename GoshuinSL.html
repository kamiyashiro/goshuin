// 現在の設定値をJSON化
function exportSettings() {
  return JSON.stringify({
    fontSize: fontSizeSlider.value,
    textCorrection: textCorrectionSlider.value,
    fillOpacity: fillOpacitySlider.value,
    fillRepeat: fillRepeatSlider.value,
    stroke: strokeSwitch.checked,
    strokeWidth: strokeWidthSlider.value,
    aa: aaSwitch.checked,
    posX: posXSlider.value,
    posY: posYSlider.value
  });
}

// 読み込み
function importSettings(json) {
  const s = JSON.parse(json);
  fontSizeSlider.value = s.fontSize;
  textCorrectionSlider.value = s.textCorrection;
  fillOpacitySlider.value = s.fillOpacity;
  fillRepeatSlider.value = s.fillRepeat;
  strokeSwitch.checked = s.stroke;
  strokeWidthSlider.value = s.strokeWidth;
  aaSwitch.checked = s.aa;
  posXSlider.value = s.posX;
  posYSlider.value = s.posY;
  
  fontSizeLabel.textContent = s.fontSize + "px";
  textCorrectionLabel.textContent = s.textCorrection + "px";
  fillOpacityLabel.textContent = s.fillOpacity + "%";
  fillRepeatLabel.textContent = s.fillRepeat;
  strokeWidthLabel.textContent = s.strokeWidth;
  posXLabel.textContent = s.posX + "px";
  posYLabel.textContent = s.posY + "px";
  
  drawMonth(currentMonth, getSelectedYear());
}
